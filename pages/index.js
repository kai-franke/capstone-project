import Head from "next/head";
import Link from "next/link";
import { TbLock, TbBook2 } from "react-icons/tb";
import styled from "styled-components";
import { Button } from "../components/Buttons";
import Headline from "../components/Headline";
import { useSession, signIn, signOut } from "next-auth/react";

export default function Home() {
  const { data: session } = useSession();

  return (
    <div>
      <Head>
        <title>Tutorial Maker</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main>
        <Headline>Tutorial Maker</Headline>
        <HomeButtonContainer>
        {session ? (
        <>
          <p>Signed in as {session.user.email}</p>
          <Button onClick={() => signOut()}>Sign out</Button>
        </>
      ) : (
        <>
          <p>Not signed in</p>
          <Button isPrimary onClick={() => signIn()}>
            Login
            <TbLock
              style={{
                color: "inherit",
                fontSize: "1.4em",
                marginLeft: "0.5em",
              }}
            />
         </Button>
        </>
      )}
          {/* <Button isPrimary>
            Login
            <TbLock
              style={{
                color: "inherit",
                fontSize: "1.4em",
                marginLeft: "0.5em",
              }}
            />
          </Button> */}
          <Link href="/tutorials" passHref>
            <Button>
              Library
              <TbBook2
                style={{
                  color: "inherit",
                  fontSize: "1.4em",
                  marginLeft: "0.5em",
                }}
              />
            </Button>
          </Link>
        </HomeButtonContainer>
      </main>
    </div>
  );
}

const HomeButtonContainer = styled.div`
  width: 100%;
  gap: 0.5em;
  display: grid;
  justify-content: center;
  align-items: start;
  position: absolute;
  top: 40%;
`;
